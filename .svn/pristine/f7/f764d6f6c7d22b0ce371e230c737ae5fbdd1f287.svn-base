<?php 
	namespace App\Http\Controllers\Admin;
	use App\Http\Controllers\Controller;
    use Illuminate\Support\Facades\Session;
    use JerryLib\System\Pager;
    use JerryLib\Model\CommonModel;
    use JerryLib\System\Common;
    use Request;

	class CommonController extends Controller {

        protected $action;
        protected $actiondata;
        protected $input;
        protected $common_model;
        /**
         * 公共的构造函数
         */
        public function __construct(Request $request) {
            $this->input = Common::filter_form_data($request::all());
            $url = trim(Request::getRequestUri(), '/');
            if($len = strpos($url, '?')) {
                $this->naction = substr($url, 0, strpos($url, '?'));    
            } else {
                $this->naction = $url;
            }
            $this->common_model = CommonModel::Init();
        }

        /**
         * 跳转
         */
        public function render($data = array(), $url = '') {
            $url = $url ? $url : $this->naction;
            return view($url, $data);
        }

	}
?>